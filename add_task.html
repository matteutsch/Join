<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="assets/icons/logo-black.png" sizes="any" />
    <title>Tasks</title>

    <script src="javascripts/includeHTML.js"></script>
    <script src="javascripts/addContacts.js"></script>
    <script src="javascripts/storage.js"></script>
    <script src="javascripts/categoryColor.js"></script>
    <script src="javascripts/board.js"></script>
    <script src="javascripts/boardHTML.js"></script>
    <script src="javascripts/addTask.js"></script>
    <script src="javascripts/index.js"></script>
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/task.css" />
</head>

<body onload="includeHTML('addTaskMenu'), initAddTask()">
    <div w3-include-html="assets/templates/menu+header.html"></div>
    <div class="content-container">
        <h1>Add Task</h1>

        <form onsubmit="event.preventDefault(); createTask('todo'); pushSubtasks()">
            <div class="task-section">
                <div class="content-left">
                    <div>
                        <p>Title</p>
                        <input required id="addTaskTitle" placeholder="Enter a title" />
                    </div>
                    <div>
                        <p>Description</p>
                        <textarea required id="addTaskDescription" placeholder="Enter a Description" style="resize: none"></textarea>
                    </div>
                    <div>
                        <p>Category</p>
                        <div class="content">
                            <div class="d-none" id="newCat">
                                <div class="newCatOrg">
                                    <input id="newCatInput" placeholder="Enter new category....">
                                    <img onclick="closeNewCategory()" src="assets/icons/clear-subtask.png">
                                    <img onclick="addNewCategory()" src="assets/icons/checkmark-black.png">
                                </div>
                                <div id="newCatColors"></div>
                            </div>
                            <div onclick="openDropdownCategory()" id="addTaskCategory" class="selectContainer">
                                Select task category
                            </div>
                            <div class="expand-container">
                                <div id="categoryDropdown">
                                    <div class="option" onclick="showNewCategory()">
                                        New Category
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <p>Assigned to</p>
                        <div class="content">
                            <div onclick="openDropdownContacts()" id="selectContact" class="selectContainer">
                                Select contacts to assign
                            </div>
                            <div class="expand-container">
                                <div id="selectContactDropdown"></div>
                            </div>
                            <div id="chosenContacts" class="chosenContacts"></div>
                        </div>
                    </div>
                </div>
                <div class="content-right">
                    <div>
                        <p>Due date</p>
                        <input onclick='setMinDate()' ; required id="date" class="input pointer" type="date" min="" />
                    </div>
                    <div>
                        <p>Prio</p>
                        <div class="prio-section">
                            <div id="urgent" onclick="setPrio('urgent')" class="prio-btn pointer">
                                Urgent <img id="urgentIcon" src="assets/icons/urgent.png" />
                            </div>
                            <div id="medium" onclick="setPrio('medium')" class="prio-btn pointer">
                                Medium <img id="mediumIcon" src="assets/icons/medium.png" />
                            </div>
                            <div id="low" onclick="setPrio('low')" class="prio-btn pointer">
                                Low <img id="lowIcon" src="assets/icons/low.png" />
                            </div>
                        </div>
                    </div>
                    <div>
                        <p>Subtasks</p>
                        <div class="subtask-input-container">
                            <input id="addTaskSubtask" class="input" type="text" placeholder="Add new subtask" />
                            <div id="subtask-buttons">
                                <img style="cursor: pointer" src="assets/icons/clear-subtask.png" onclick="emptySubtaskValue()">
                                <div class="seperator"></div>
                                <img style="cursor: pointer" src="assets/icons/checkmark-black.png" onclick="createNewSubtask()">
                            </div>
                        </div>
                        <div id="subtaskContainer">

                        </div>
                    </div>
                </div>
                <div class="button-container">
                    <button type="button" onclick="resetValues()" class="clear-btn pointer">
            Clear &nbsp; x
          </button>
                    <button type="submit" id="createTaskBtn" class="create-btn pointer">
            Create Task <img src="assets/icons/check-white.png" />
          </button>
                </div>
        </form>
        <div id="taskAdded" class="taskAdded">
            Task added to board &nbsp; <img src="assets/icons/board-icon.svg" />
        </div>
        </div>
</body>

</html>